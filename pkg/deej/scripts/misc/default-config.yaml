# sections: slider_mapping, switches_mapping
#   process names are case-insensitive 
#   you can use directory paths. All processes launched from the specified directory or its subdirectories will be controlled by that slider.
#   you can use 'master' to indicate the master channel, or a list of process names to create a group
#   you can use 'mic' to control your mic input level (uses the default recording device)
#   you can use 'deej.unmapped' to control all apps that aren't bound to any slider (this ignores master, system, mic and device-targeting sessions)
#   windows only - you can use 'deej.current' to control the currently active app (whether full-screen or not)
#   windows only - you can use a device's full name, i.e. "Speakers (Realtek High Definition Audio)", to bind it. this works for both output and input devices
#   windows only - you can use 'system' to control the "system sounds" volume
#
# important: 
#   slider indexes start at 0, regardless of which analog pins you're using!
#   To get a list of all available audio devices (useful for device targeting), check the log file for "Available audio devices" entries in logs/deej-latest-run.log

#sliders used to control the volume of specific applications / interface.
slider_mapping:
  0: master
  1: chrome.exe
  2: spotify.exe
  3:
    - c:\Program Files (x86)\Steam
    - rocketleague.exe
  4: discord.exe

# set this to true if you want the slider controls inverted (i.e. top is 0%, bottom is 100%)
invert_sliders: false

# switches used to mute/unmute application / interface .
switches_mapping:
  0: mic
  1:
  2:
  3:
  4: discord.exe
  5:

# set this to true if you want the mute switches inverted
invert_switches: false

# slider_override allows you to set constant volume levels for specific sliders.
# This can be useful for "pining" a volume level in specific situations.
# If a value is set, its will be used instead of the ESP32 reading. Otherwise, the slider will use the value received from ESP32.
#
# Example:
# slider_override:
#   0:        # Slider 0: no override, use ESP32 value
#   1: 100    # Slider 1: always use 100%
#   2:        # Slider 2: no override, use ESP32 value
#   3: 50     # Slider 3: always use 50%
slider_override:
  0:
  1:
  2:
  3:
  4:
  5:

# button_actions allows you to configure physical buttons on the mixer to trigger various actions.
# Buttons support three action types: single click, double click, and long press.
#
# Configuration structure:
#   button_actions:
#     cancel_on_reload: false  # If true, all running actions are cancelled when config is reloaded (default: false)
#     <button_id>:             # Button ID (0-5, matching btn0-btn5 on ESP32)
#       single:                # Single click action (optional)
#         exclusive: true      # If true, new presses are ignored while action is running (default: true)
#         steps:               # List of action steps to execute sequentially
#           - type: execute    # Run an application
#             app: "notepad.exe"
#             args: []         # Optional command-line arguments
#             wait: false      # Wait for completion (default: false)
#             wait_timeout: 0  # Timeout in ms for wait: true (0 = infinite, default: 0)
#             wait_wnd:        # Wait for window (Windows only, only with wait: false)
#               timeout: 1000  # Timeout in ms (required)
#               focused: true  # Check if window is focused (optional, default: false)
#               title: "Notepad"  # Window title filter (optional)
#           - type: delay      # Wait for specified duration
#             ms: 500          # Duration in milliseconds (required, must be > 0)
#           - type: keystroke  # Simulate keyboard input
#             keys: "Ctrl+Alt+T"  # Key combination (required)
#           - type: typing     # Type text character by character
#             text: "Hello World\n"  # Text to type (required, supports \n, \t, \r, \\)
#             char_delay: 50   # Delay between characters in ms (optional, default: 0 on Linux, 1ms minimum on Windows)
#       double:                # Double click action (optional, same structure as single)
#         exclusive: true
#         steps: []
#       long:                  # Long press action (optional, same structure as single)
#         exclusive: true
#         steps: []
#
# Example:
# button_actions:
#   cancel_on_reload: false
#   0:
#     single:
#       exclusive: true
#       steps:
#         - type: execute
#           app: "notepad.exe"
#           wait_wnd:
#             timeout: 1000
#             focused: true
#         - type: typing
#           text: "Hello from deej!\n"
#   1:
#     single:
#       exclusive: true
#       steps:
#         - type: keystroke
#           keys: "Ctrl+Alt+T"
#     double:
#       exclusive: true
#       steps:
#         - type: execute
#           app: "calc.exe"
#   2:
#     long:
#       exclusive: true
#       steps:
#         - type: delay
#           ms: 1000
#         - type: typing
#           text: "Long press action\n"
button_actions:
  cancel_on_reload: false
  0:
  1:
  2:
  3:
  4:
  5:

# parameters: SERIAL_Port, SERIAL_BaudRate, SSE_URL
# Used to configure Serial UART (SERIAL_Port, SERIAL_BaudRate) and SSE (SSE_URL) transport layers (data receive).
#
# TRANSPORT SELECTION LOGIC (at startup and on config reload):
# - If both Serial and SSE are configured: Deej will try Serial first, fall back to SSE if Serial fails (port doesn't exist).
# - If Serial port is busy (already in use): Deej will stop instead of falling back to SSE.
# - If only one is configured: Deej will use that one.
# - If neither is configured: Deej will notify and stop.
#
# CONFIG RELOAD BEHAVIOR (when you save this file):
# - Transport switching: If you change from Serial to SSE (or vice versa), Deej will automatically switch interfaces.
# - Parameter changes: If you change Serial port/baud rate or SSE URL, Deej will reconnect with new parameters.
# - Optimization: If transport parameters haven't changed, Deej will NOT reconnect (even if other config like slider_mapping changed).
#   This prevents unnecessary reconnections when you only modify audio mappings or other non-transport settings.
# - Removing active transport: If you remove the currently active transport but another transport is configured,
#   Deej will automatically switch to the available transport. Deej will only stop if BOTH transports are removed.

# Serial UART interface as transport layer
# Format: COMx (Windows) or /dev/ttyUSBx, /dev/ttyACMx (Linux)
# Leave empty, comment-out or set to 0 to disable Serial transport
SERIAL_Port: COM18
SERIAL_BaudRate: 115200

# Server-Sent Events (SSE) as transport layer
# Format: http://hostname:port/events or http://ip-address:port/events
# Leave empty to disable SSE transport
SSE_URL: http://mix.local/events

# SSE relay port - enables deej as data source for other deej instances (data transmit)
# When configured, this deej instance will act as an SSE server, proxying ESP32 data to other clients
# Leave empty, comment-out or set to 0 to disable SSE relay server
#SSE_RELAY_PORT: 8080